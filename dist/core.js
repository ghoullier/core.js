/*
 * core.js 0.3.1 (2013-12-25, 19:56)
 * https://github.com/ghoullier/core.js
 * MIT licensed
 *
 * Copyright (C) 2014 GrÃ©gory Houllier
 */

!function(a){"use strict";function b(a,b){return function(){return a.apply(b,arguments)}}var c=Object.create(null);c.bind=b,a.core=c}(this,this.document),function(a,b,c){"use strict";function d(a,c){return c=c||b.documentElement,c.querySelector(a)}function e(a,c){return c=c||b.documentElement,f.call(c.querySelectorAll(a))}var f=Array.prototype.slice;c.$=d,c.$$=e}(this,this.document,this.core),function(a,b,c){"use strict";function d(a,b,c){if(g.call(b,c))return b;for(;b=b.parentNode&&a!==b;){if(1!=b.nodeType)return!1;if(g.call(b,c))return b}return!1}function e(a,b,c,e){a.addEventListener(b,function(b){var f=d(a,b.target,c);f&&e.call(f,b)},!1)}var f=b.documentElement,g=f.matchesSelector||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector;c.on=e}(this,this.document,this.core),function(a,b,c){function d(a){var b=Object.create(this);return a?(Object.keys(a).forEach(function(c){b[c]=a[c]}),b):b}function e(){var a=Object.create(this);return"function"==typeof a.constructor&&a.constructor.apply(a,arguments),a}c.Class={create:e,extend:d}}(this,this.document,this.core),function(a,b,c){"use strict";var d=console,e=core.Class,f=e.extend({constructor:function(a){var b=this;b.element=a,b.on("click","[data-method]",function(a){var c=this.dataset.method,e=b[c];"function"==typeof e?e.call(b,a):d.error("Undefined method",c)}),this.initialize()},initialize:function(){},$:function(a,b){return core.$(a,b||this.element)},$$:function(a,b){return core.$$(a,b||this.element)},on:function(a,b,c){core.on(this.element,a,b,c)},bind:function(a){return core.bind(a,this)}}),g=e.extend({constructor:function(){var a=this;a.definitions={},a.instances=[],b.addEventListener("DOMContentLoaded",function(){a.bootstrap(b.documentElement)},!1)},add:function(a,b){return this.definitions[a]=b,this},get:function(a){return this.definitions[a]},has:function(a){return f.isPrototypeOf(this.get(a))},getInstanceByNode:function(a){var b=this.instances.filter(function(b){return b.node===a});return b.length>0?b[0].controller:null},bootstrap:function(a){var b=this;core.$$("[data-controller]",a).forEach(function(a){var c=a.dataset;if(null===b.getInstanceByNode(a)){var e=c.controller;b.has(e)?b.instances.push({node:a,controller:b.get(e).create(a)}):"undefined"!=typeof c.lazyload?d.log("Wait for controller definition",e):d.error("Undefined controller",e)}})}});c.controllers=g.create(),c.BaseController=f}(this,this.document,this.core),function(a,b,c){"use strict";var d=core.Class,e=d.extend({constructor:function(a){this.storage=a},set:function(a,b){this.storage.setItem(a,JSON.stringify({value:b}))},get:function(a){return JSON.parse(this.storage.getItem(a)).value},remove:function(a){this.storage.removeItem(a)},has:function(a){return null!==this.storage.getItem(a)},clear:function(){this.storage.clear()}}),f=Object.create(null);f.locale=e.create(a.localStorage),f.session=e.create(a.sessionStorage),c.storage=f}(this,this.document,this.core),function(a,b,c){"use strict";function d(a){var b={};return c.$$("input[name]",a).forEach(function(a){var c=a.getAttribute("name");b[c]="checkbox"===a.getAttribute("type")?a.checked:a.value}),b}function e(a,b){c.$$("input[name]",a).forEach(function(a){var c=b[a.getAttribute("name")];"checkbox"===a.getAttribute("type")?a.checked=c:a.value=c})}var f=Object.create(null);f.serialize=d,f.unserialize=e,c.form=f}(this,this.document,this.core);
//# sourceMappingURL=../dist/core.js.map